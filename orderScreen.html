<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/orderScreen.css" rel="stylesheet">
    <script src="js/logout.js"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=AWTO6cv0xj_szivQFe7oTBVqoyYGWwJoYfS9lPDE5oAjD6LzYxeGfSqPyjO7S_Y1t6XotZcFH7ANJdDn"></script>
    <title>Your Order</title>
</head>

<body>
    <header class="black-header">
        <div class="containerNav">
            <div class="logo-container">
                <a class="navbar-brand" href="homeScreen.html"><img src="images/shop.webp" alt="TD Shop Logo"
                        class="logo"></a>
                <h1 class="company-name">TD Shop</h1>
            </div>
            <div class="search-container">
                <form class="search-form">
                    <input type="text" placeholder="Search">
                    <button class="myButton fancyButton" type="submit">Search</button>
                </form>
                <div class="profile-dropdown">
                    <button class="profile-button">User</button>
                    <div class="dropdown-content">
                        <a href="profileScreen.html">View Profile</a>
                        <a href="loginScreen.html" onclick="logout()">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <br>
    <div class="container">
        <div class="order" id="orderContainer">
            <h1 class="title"></h1>
            <div class="order"
            style="background-color: white;
            border-radius: 8px;
            margin-top: 5vh;
            margin-bottom: 5vh;
            align-items: center;
            padding: 10px;
            ">
            <h1 class="purpleTitle">Shipping Information</h1>
            <div id="shipping">
                <!-- Shipping info will be inserted here by JavaScript -->
            </div>
            <div class="orderSeparator"></div>

            <h1 class="purpleTitle">Payment Information</h1>
            <p><strong>Payment Method: </strong>PayPal</p>

            <div class="orderSeparator"></div>
            <h1 class="purpleTitle">Order Items</h1>
            <table id="orderTable">
                <thead>
                    <tr>
                        <th style="color:var(--purple)">Image</th>
                        <th style="color:var(--purple)">Product</th>
                        <th style="color:var(--purple)">Price</th>
                        <th style="color:var(--purple)">Quantity</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Order items will be inserted here by JavaScript -->
                </tbody>
            </table>
            <div class="orderSeparator"></div>
            </div>
        </div>
        <div class="orderSummary">
            <h1 class="purpleTitle">Order Summary</h1>
            <div class="orderSection" id="itemSubtotal">
                <!-- Item subtotal will be inserted here by JavaScript -->
            </div>
            <div class="orderSeparator"></div>
            <div class="orderSection" id="itemTax">
                <!-- Order items will be inserted here by JavaScript -->
            </div>
            <div class="orderSeparator"></div>
            <div class="orderSection" id="shippingPrice">
                <!-- Shipping will be inserted here by JavaScript -->
            </div>
            <div class="orderSeparator"></div>
            <div class="orderSection" id="total">
                <!-- Total will be inserted here by JavaScript -->
            </div>
            <div class="orderSeparator"></div>
            <div class="orderSection">
                <div id="paypal-button-container"></div>
        </div>
    </div>
    <!-- Include getOrder.js -->
    <script src="js/getOrder.js"></script>

    <script>
        window.onload = function () {
            getOrder();
        };

        // Add a click event listener to the logout button
        const logoutButton = document.getElementById('logout');
        if (logoutButton) {
            logoutButton.addEventListener('click', function () {
                // Clear the login status
                localStorage.setItem('isLoggedIn', false);
                clearCart();
                // Refresh the page
                location.reload();
            });
        }
    </script>
</body>

</html>